# :sunny: PV Curve Tracer Board

This repository contains all relevant design and documentation files for the PV
Curve Tracer HW.  

A couple other important sections for engineers who are using this board are
below.

- [Repository Structure](#Repository-Structure)
- [Maintainers](#Maintainers)
- [Versioning](#Versioning)
- [Changes and Errata](#Changes-and-Errata)
- [List of TODOs](#TODO)

---

## Repository Structure

- **Datasheets**: Contains datasheets for the components in the PCB. Links to
  datasheets can also be found embedded in the KiCAD project BOM.
- **Design**: Contains the design and gerber files for the PCB.
  - **Footprints**: Layout footprint files for components.
  - **Models**: 3D step files for components.
  - **MPPT-backups**: Autogenerated backup files. Ignored in commit by default.
  - **Symbols**: Schematic symbol files for component.
  - **vX_X_X**: Build files and final output for a given board revision.
    - **jlcpcb**: Gerbers, POS, and BOM files for JLCPCB manufacturing.
  - *.kicad_pcb: Layout file.
  - *.kicad_prl: Project local settings file. Ignored in commit by default.
  - *.kicad_pro: Project file.
  - *.kicad_sch: Schematic file.
  - sym-lib-table: Symbol library table.
- **Documentation**: Contains documentation for ordering, assembly, and testing
  instructions.
  - [ASSEMBLY_AND_TESTING.md](Documentation/ASSEMBLY_AND_TESTING.md): Instructions for putting together and testing the PCB.
  - [IMPROVEMENT.md](Documentation/IMPROVEMENT.md): Suggestions for improving the PCB in future revisions.
  - [ORDERING.md](Documentation/ORDERING.md): Instructions for ordering the PCB from JLCPCB.

---

## Maintainers and Contribution

The current maintainer of this project is Matthew Yu as of 06/05/2022. His email
is [matthewjkyu@gmail.com](matthewjkyu@gmail.com). 

Also a useful point of contact is Professor Gary Hallock, who advised Matthew
during the development of this board.

Other contributors of this HW are as follows:
- Youssef Elsherif (v1.0.0)

---

## Versioning

This PCB is on unified version `1.3.0`. Every time the schematic and/or layout
is updated, this version number should go up. We use [semantic
versioning](https://semver.org/) to denote between versions.  

---

## Changes and Errata

### 1.0.0
#### Schematic
- First schematic design completed.
#### Layout
- First layout design completed.

### 1.1.0
- Standardized parts with the MPPT and RTD/Irradiance Sensor parts list.
- Re-selected the rotary switch to make sure it would work for the application.
- Added extra filter capacitor selections for the voltage sensor. Optional to
  use.
- Corrected any parts discrepancies from v1.0.0 parts list.
#### Schematic
- Transitioned component footprints from through hole to SMD as part of the
  parts list synchronization. 
- Re-annotated all component labels and removed rescued symbols. We now just
  have a single .pretty folder and an Array.lib. 
- Updated indicator LEDs and added a Reset button.
- Standardized current sensor to that on the MPPT board.
- Merged the op amp used by the voltage sensor and the gate amplifier.
- Added a pre-emptive fuse to array input and swapped to a Phoenix connector.
- Added a pre-emptive 9V power supply.
#### Layout
- Shrunk layout footprint by 35%.
- Added extra no fill zones to shield analog, digital, and power sections from
  each other.
- Ensured minimum current rating is 8A.
- Added extra capacitor pads for voltage sensor filtering. Optional to use.

### 1.2.0
- Moved parts list into the KiCAD project.
#### Schematic
#### Layout

### 1.3.0
- Versioning is unified between schematic, layout, and BoM.
- This repo is now a subrepo in the Power-Generation monorepo.
#### Schematic
#### Layout

---

## TODO

- Update this readme
- Update v1.2.0 and v1.3.0 errata.
- Update pcb design for v1.3.0.
- Review parts lists and add more alts.
- Update [ASSEMBLY_AND_TESTING.md](Documentation/ASSEMBLY_AND_TESTING.md) for v1.3.0.
- Update improvements.md
- clean up design repo
- add datasheets
